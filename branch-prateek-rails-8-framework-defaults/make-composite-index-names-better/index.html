<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<link rel="icon" href="/assets/images/logo.avif">











<!-- Primary Meta Tags -->
<title>Rails 7.1 handles long auto-generated index names with a limit | Prateek Codes - Learn Building Scalable Backend Systems</title>
<meta name="title" content="Rails 7.1 handles long auto-generated index names with a limit">
<meta name="description" content="Rails 7.1 adds a limit of 62 bytes on auto-generated index names. There is also a bonus deep dive at the end.">
<meta name="keywords" content="Rails, Rails 7.1, Migrations, Ruby on Rails, PostgreSQL, Ruby, Rails, Rails 7.1, Migrations, Ruby on Rails, PostgreSQL, Ruby, Rails development, Rails consulting">
<meta name="author" content="Prateek Choudhary">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="article">
<meta property="og:url" content="https://prateekcodes.dev/make-composite-index-names-better/">
<meta property="og:title" content="Rails 7.1 handles long auto-generated index names with a limit">
<meta property="og:description" content="Rails 7.1 adds a limit of 62 bytes on auto-generated index names. There is also a bonus deep dive at the end.">
<meta property="og:image" content="https://prateekcodes.dev/assets/images/logo.avif">
<meta property="og:site_name" content="Prateek Codes - Learn Building Scalable Backend Systems">

<meta property="article:author" content="Prateek Choudhary">
<meta property="article:published_time" content="2023-10-23T00:00:00+00:00">




<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://prateekcodes.dev/make-composite-index-names-better/">
<meta property="twitter:title" content="Rails 7.1 handles long auto-generated index names with a limit">
<meta property="twitter:description" content="Rails 7.1 adds a limit of 62 bytes on auto-generated index names. There is also a bonus deep dive at the end.">
<meta property="twitter:image" content="https://prateekcodes.dev/assets/images/logo.avif">
<meta property="twitter:creator" content="@prateekkish">

<!-- Canonical URL -->
<link rel="canonical" href="https://prateekcodes.dev/make-composite-index-names-better/">

<!-- RSS Feed -->
<link rel="alternate" type="application/rss+xml" title="Prateek Codes - Learn Building Scalable Backend Systems RSS Feed" href="https://prateekcodes.dev/feed.xml">






<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Rails 7.1 handles long auto-generated index names with a limit",
  "description": "Rails 7.1 adds a limit of 62 bytes on auto-generated index names. There is also a bonus deep dive at the end.",
  
  "image": "https://prateekcodes.dev/assets/images/logo.avif",
  
  "datePublished": "2023-10-23T00:00:00+00:00",
  
  "dateModified": "2023-10-23T00:00:00+00:00",
  
  "author": {
    "@type": "Person",
    "name": "Prateek Choudhary",
    "url": "https://prateekcodes.dev",
    "sameAs": [
      "https://twitter.com/prateekkish",
      "https://www.linkedin.com/in/choudharyprateek/",
      "https://github.com/prateekkish"
    ]
  },
  "publisher": {
    "@type": "Organization",
    "name": "Prateek Codes - Learn Building Scalable Backend Systems",
    "logo": {
      "@type": "ImageObject",
      "url": "https://prateekcodes.dev/assets/images/logo.avif"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://prateekcodes.dev/make-composite-index-names-better/"
  },
  "keywords": ", Rails, Rails 7.1, Migrations",
  "articleSection": "Rails",
  "wordCount": "839"
}
</script>





<!-- Breadcrumb Navigation -->

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://prateekcodes.dev"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Rails",
      "item": "https://prateekcodes.dev/category/rails"
    },
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Rails 7.1 handles long auto...",
      "item": "https://prateekcodes.dev/make-composite-index-names-better/"
    }
  ]
}
</script>


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<link href="/assets/css/screen.css" rel="stylesheet">

<link href="/assets/css/main.css" rel="stylesheet">



<script src="/assets/js/jquery.min.js"></script>

</head>


<!-- change your GA id in _config.yml -->
<script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-158773406-2', 'auto');
    ga('send', 'pageview');
  </script>



<body class="layout-post">
	<!-- defer loading of font and font awesome -->
	<noscript id="deferred-styles">
		<link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i" rel="stylesheet">
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	</noscript>


<!-- Begin Menu Navigation
================================================== -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

    <div class="container pr-0">

    <!-- Begin Logo -->
    <a class="navbar-brand" href="/">
    <img class="navbar-logo" src="/assets/images/logo.avif" alt="Prateek Codes - Learn Building Scalable Backend Systems" width="50px" height="">
    </a>
    <!-- End Logo -->

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarMediumish">

        <!-- Begin Menu -->

            <ul class="navbar-nav ml-auto">

                
                <li class="nav-item ">
                    <a class="nav-link" href="/">Blog</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link" href="/categories">Categories</a>
                </li>
                
                <li class="nav-item ">
                    <a class="nav-link" href="/projects">Projects</a>
                </li>
                

                <script src="/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Search a post..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

            </ul>

        <!-- End Menu -->

    </div>

    </div>
</nav>
<!-- End Navigation
================================================== -->

<div class="site-content">

<div class="container">

<!-- Content
================================================== -->
<div class="main-content">
    <!-- Begin Article
================================================== -->
<div class="container">
    <div class="row">

        <!-- Post Share -->
        <div class="col-md-1 pl-0">
            
        </div>

        <!-- Post -->
        

        <div class="col-md-10 flex-first flex-md-unordered">
            <div class="mainheading">

                <!-- Post Title -->
                <h1 class="posttitle">Rails 7.1 handles long auto-generated index names with a limit</h1>

            </div>            

            <!-- Post Featured Image -->
            
            <!-- End Featured Image -->

            <!-- Post Content -->
            <div class="article-post">
                <p>While adding a composite index that is made up of columns with long names, the index name auto-generated by Rails can grow too long. That leads to the annoying error</p>
<blockquote>
  <p>Index name index_table_name_on_column1_and_column2_and_column3 on table ‘table_name’ is too long</p>
</blockquote>

<h2 id="before">Before</h2>

<p>After we see this error, the fix is to add a name option for adding index like so:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">add_index</span> <span class="ss">:opportunities</span><span class="p">,</span> <span class="sx">%i(manager_id operational_countries_id hospital_id opportunity_type)</span><span class="p">,</span> <span class="ss">name: </span><span class="s2">"idx_opps_on_mid_ocid_hid_otype"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>This works great, but could be better if Rails handled that auto-magically.</p>

<h2 id="rails-71">Rails 7.1</h2>

<p><a href="https://github.com/rails/rails/pull/47753/files" target="_blank" rel="nofollow noopener noreferrer">This PR</a> added a limit of 62 bytes on the auto generated index names. This is safe for MySQL, Postgres and SQLite index name limits.</p>

<p>If the generated index name is over the limit, the naming would be done as per a shorter format.</p>

<h4 id="example">Example</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="n">index_table_name_on_column1_and_column2_and_column3</span> <span class="o">=&gt;</span> <span class="no">Long</span> <span class="nb">format</span>

<span class="n">ix_on_column1_and_column2_and_column3_584cb5f07a</span> <span class="o">=&gt;</span> <span class="no">Shorter</span> <span class="nb">format</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>The shorter format includes a hash created from the long format name to ensure uniqueness across the database.</p>

<h5 id="primary-format">Primary format</h5>

<p><code class="language-plaintext highlighter-rouge">index_{table_name}_on_#{columns.join('_and_')}</code></p>

<h5 id="new-fallback---shorter-format">New fallback - shorter format</h5>

<p><code class="language-plaintext highlighter-rouge">ix_on_#{columns.join('_')}_#{OpenSSL::Digest::SHA256.hexdigest(long_name).first(10)}</code></p>

<h2 id="digging-into-mikes-pr">Digging into Mike’s PR</h2>

<p>I’m trying something new here. I’ll go over some key aspects of the PR and how this OSS contribution fixes this problem. The aim is to simplify the solution.</p>

<h4 id="changing-the-index-name">Changing the index name</h4>

<div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="p">activerecord/lib/active_record/connection_adapters/abstract/schema_statements.rb  
</span>  
<span class="p">def index_name(table_name, options) # :nodoc:
</span>  if Hash === options
    if options[:column]
<span class="gd">-      "index_#{table_name}_on_#{Array(options[:column]) * '_and_'}"
</span><span class="gi">+      generate_index_name(table_name, options[:column])
</span>    elsif options[:name]
      options[:name]
    else
      raise ArgumentError, "You must specify the index name"
    end
  else
    index_name(table_name, index_name_options(options))
  end
<span class="p">end
</span></pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">generate_index_name</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">column</span><span class="p">)</span>
  <span class="nb">name</span> <span class="o">=</span> <span class="s2">"index_</span><span class="si">#{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">_on_</span><span class="si">#{</span><span class="no">Array</span><span class="p">(</span><span class="n">column</span><span class="p">)</span> <span class="o">*</span> <span class="s1">'_and_'</span><span class="si">}</span><span class="s2">"</span>
  <span class="c1"># Array(column) * '_and_' is similar to Array(column).join('_and_')</span>
  <span class="c1"># Example: index_students_on_name_and_age_and_city</span>
  <span class="k">return</span> <span class="nb">name</span> <span class="k">if</span> <span class="nb">name</span><span class="p">.</span><span class="nf">bytesize</span> <span class="o">&lt;=</span> <span class="n">max_index_name_size</span>
  <span class="c1"># If generated `name` is within limit, return that.</span>
  
  <span class="n">hashed_identifier</span> <span class="o">=</span> <span class="s2">"_"</span> <span class="o">+</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">Digest</span><span class="o">::</span><span class="no">SHA256</span><span class="p">.</span><span class="nf">hexdigest</span><span class="p">(</span><span class="nb">name</span><span class="p">).</span><span class="nf">first</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
  <span class="nb">name</span> <span class="o">=</span> <span class="s2">"ix_on_</span><span class="si">#{</span><span class="no">Array</span><span class="p">(</span><span class="n">column</span><span class="p">)</span> <span class="o">*</span> <span class="s1">'_'</span><span class="si">}</span><span class="s2">"</span>
  <span class="c1"># Example: ix_on_name_age_city_0c06491783</span>

  <span class="n">short_limit</span> <span class="o">=</span> <span class="n">max_index_name_size</span> <span class="o">-</span> <span class="n">hashed_identifier</span><span class="p">.</span><span class="nf">bytesize</span>
  <span class="c1"># Calculates the size left after counting size of the hash that has to be added at the end of the name.</span>
  <span class="c1"># In this case 62 - 11 = 51</span>
  <span class="n">short_name</span> <span class="o">=</span> <span class="nb">name</span><span class="p">.</span><span class="nf">mb_chars</span><span class="p">.</span><span class="nf">limit</span><span class="p">(</span><span class="n">short_limit</span><span class="p">).</span><span class="nf">to_s</span>
  <span class="c1"># Limit the new short format name to the limit we have left.</span>

  <span class="s2">"</span><span class="si">#{</span><span class="n">short_name</span><span class="si">}#{</span><span class="n">hashed_identifier</span><span class="si">}</span><span class="s2">"</span>
  <span class="c1"># The final name is the calculated limited short_name with the hash identifier appended to it, which would always be within the limit.</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">max_index_name_size</span>
  <span class="mi">62</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="adding-migration-compatibility">Adding migration compatibility</h4>

<p>Any modification to Rails migration functionality must maintain compatibility with older migrations, ensuring they run the same way, just as they did when originally created in their respective Rails versions.</p>

<p>In this case, the author has added the below override for the <code class="language-plaintext highlighter-rouge">add_index</code> method for the Rails version immediately preceding 7.1. That is 7.0.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">add_index</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">column_name</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
  <span class="n">options</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span> <span class="o">=</span> <span class="n">legacy_index_name</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">column_name</span><span class="p">)</span> <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="ss">:name</span><span class="p">].</span><span class="nf">nil?</span>
  <span class="k">super</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Simply put, if <code class="language-plaintext highlighter-rouge">name</code> option is provided, the change in Rails 7.1 doesn’t do anything differently, so we don’t do anything and call <code class="language-plaintext highlighter-rouge">super</code>.</p>

<p>If the name has to be generated, author has implemented a compatible method <code class="language-plaintext highlighter-rouge">legacy_index_name</code>.</p>

<p>Let’s dive in:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">legacy_index_name</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
  <span class="k">if</span> <span class="no">Hash</span> <span class="o">===</span> <span class="n">options</span>
  <span class="c1"># In this instance, think of it as, is `options` a Hash?</span>
    <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="ss">:column</span><span class="p">]</span>
      <span class="c1"># If column names are provided use them to create the name as before.</span>
      <span class="s2">"index_</span><span class="si">#{</span><span class="n">table_name</span><span class="si">}</span><span class="s2">_on_</span><span class="si">#{</span><span class="no">Array</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="ss">:column</span><span class="p">])</span> <span class="o">*</span> <span class="s1">'_and_'</span><span class="si">}</span><span class="s2">"</span>
    <span class="k">elsif</span> <span class="n">options</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span>
      <span class="c1"># If name was provided, use that instead.</span>
      <span class="n">options</span><span class="p">[</span><span class="ss">:name</span><span class="p">]</span>
    <span class="k">else</span>
      <span class="k">raise</span> <span class="no">ArgumentError</span><span class="p">,</span> <span class="s2">"You must specify the index name"</span>
    <span class="k">end</span>
  <span class="k">else</span>
    <span class="c1"># If options isn't a Hash, call itself again with standardized options via index_name_options method</span>
    <span class="n">legacy_index_name</span><span class="p">(</span><span class="n">table_name</span><span class="p">,</span> <span class="n">index_name_options</span><span class="p">(</span><span class="n">options</span><span class="p">))</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">index_name_options</span><span class="p">(</span><span class="n">column_names</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">expression_column_name?</span><span class="p">(</span><span class="n">column_names</span><span class="p">)</span>
    <span class="c1"># If column_names has any character except letters, numbers or underscores,</span>
    <span class="c1"># replace them with an underscore</span>
    <span class="n">column_names</span> <span class="o">=</span> <span class="n">column_names</span><span class="p">.</span><span class="nf">scan</span><span class="p">(</span><span class="sr">/\w+/</span><span class="p">).</span><span class="nf">join</span><span class="p">(</span><span class="s2">"_"</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="c1"># Return the column_names in an expected format for legacy_index_name</span>
  <span class="p">{</span> <span class="ss">column: </span><span class="n">column_names</span> <span class="p">}</span>
<span class="k">end</span>

<span class="k">def</span> <span class="nf">expression_column_name?</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span>  
  <span class="n">column_name</span><span class="p">.</span><span class="nf">is_a?</span><span class="p">(</span><span class="no">String</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="sr">/\W/</span><span class="p">.</span><span class="nf">match?</span><span class="p">(</span><span class="n">column_name</span><span class="p">)</span>
<span class="k">end</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="conclusion">Conclusion</h2>

<p>This was a minor pain point from the beginning and I liked when this was fixed. The deep dive is something I haven’t done before in my blogs, I’d appreciate the feedback in the comments below.</p>

            </div>

            <!-- Post Date -->
            <p>
            <small>
                <span class="post-date"><time class="post-date" datetime="2023-10-23">23 Oct 2023</time></span>
                
                </small>
            </p>

            <!-- Post Categories -->
            <div class="after-post-cats">
                <ul class="tags mb-4">
                    
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Migrations">Migrations</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Rails">Rails</a>
                    </li>
                    
                    <li>
                        <a class="smoothscroll" href="/categories#Rails-7.1">Rails 7.1</a>
                    </li>
                    
                </ul>
            </div>
            <!-- End Categories -->

            <!-- Author Box -->
            
            <div class="row post-bottom-meta">
                <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0">
                    
                    <img class="author-thumb" src="/assets/images/prateek-avatar.avif" alt="Prateek Choudhary">
                    
                </div>
                <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left">
                    <a target="_blank" class="link-dark" href="prateekcodes.dev">Prateek Choudhary</a>
                    <section class="author-socials mb-0">
                        <a target="_blank" href="https://twitter.com/prateekkish"><i class="fab fa-twitter-square"></i></a>
                        <a target="_blank" href="https://github.com/prateekkish" class="ml-1"><i class="fab fa-github-square"></i></a>
                        <a target="_blank" href="https://www.linkedin.com/in/choudharyprateek/" class="ml-1"><i class="fab fa-linkedin"></i></a>
                        <a target="_blank" href="mailto:prateekkish@gmail.com" class="ml-1"><i class="fas fa-envelope-square"></i></a>
                    </section>
                    <section class="author-description">Technology Leader</section>
                </div>
            </div>
            
            <!-- End Author Box -->

            <!-- Post Tags -->
            <div class="after-post-tags">
                <ul class="tags">
                    
                    
                </ul>
            </div>
            <!-- End Tags -->

            <!-- Related Posts -->
            





<div class="related-posts">
  <h3>Related Articles</h3>
  <div class="row">
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
      
    
      
        
        
        
        
        
        
      
    
      
        
        
        
        
        
        
      
    
    
    
    
      
        
          <div class="col-md-6 mb-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <a href="/rails-8-serialized-attributes-comparable-option/">Rails 8 adds comparable option to serialized attributes</a>
                </h5>
                <p class="card-text small">Rails 8 introduces a `comparable` option for serialized attributes, preventing unnecessary databa...</p>
                <p class="card-text">
                  <small class="text-muted">
                    <time datetime="2025-07-04T00:00:00+00:00">Jul 04, 2025</time>
                  </small>
                </p>
              </div>
            </div>
          </div>
          
          
        
      
        
          <div class="col-md-6 mb-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <a href="/rails-8-multiple-rate-limits-per-controller/">Rails 8 adds ability to use multiple rate limits per controller</a>
                </h5>
                <p class="card-text small">Rails 8 now allows defining multiple rate limits within a single controller using named configura...</p>
                <p class="card-text">
                  <small class="text-muted">
                    <time datetime="2025-07-04T00:00:00+00:00">Jul 04, 2025</time>
                  </small>
                </p>
              </div>
            </div>
          </div>
          
          
        
      
        
          <div class="col-md-6 mb-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <a href="/rails-8-introduces-params-expect-for-safer-parameter-handling/">Rails 8 introduces Parameters#expect for safer parameter handling</a>
                </h5>
                <p class="card-text small">Rails 8 adds `Parameters#expect` to prevent parameter manipulation attacks and provide clearer er...</p>
                <p class="card-text">
                  <small class="text-muted">
                    <time datetime="2025-06-30T00:00:00+00:00">Jun 30, 2025</time>
                  </small>
                </p>
              </div>
            </div>
          </div>
          
          
        
      
        
          <div class="col-md-6 mb-3">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">
                  <a href="/rails-http-caching-strategies/">HTTP Caching for Rails APIs: The Missing Performance Layer</a>
                </h5>
                <p class="card-text small">Most Rails APIs ignore HTTP caching entirely, missing out on massive performance gains. Learn pra...</p>
                <p class="card-text">
                  <small class="text-muted">
                    <time datetime="2025-06-29T00:00:00+00:00">Jun 29, 2025</time>
                  </small>
                </p>
              </div>
            </div>
          </div>
          
          
            
    
  </div>
</div>
            <!-- End Related Posts -->

        </div>
        <!-- End Post -->

    </div>
</div>
<!-- End Article
================================================== -->

<!-- Begin Comments
================================================== -->

    <div class="container">
        <div id="comments" class="row justify-content-center mb-5">
            <div class="col-md-10">
                <script src="https://giscus.app/client.js"
        data-repo="prateekkish/prateekcodes"
        data-repo-id=""
        data-category="General"
        data-category-id=""
        data-mapping="title"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light_protanopia"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
            </div>
        </div>
    </div>

<!--End Comments
================================================== -->

</script>

</div>



</div>

<!-- Begin Footer
================================================== -->
<footer class="footer">
    <div class="container">
        <div class="row mb-4">
            <div class="col-md-12 text-center">
                <div class="contact-section">
                    <h5 class="contact-title">Let's Work Together</h5>
                    <p class="contact-subtitle">Need help scaling your backend systems? I can help you build robust, high-performance solutions.</p>
                    <div class="contact-links">
                        <a href="mailto:prateekkish@gmail.com" class="contact-link email-link">
                            <i class="fas fa-envelope"></i> Get in touch
                        </a>
                        <span class="contact-divider">•</span>
                        <a href="https://twitter.com/prateekkish" class="contact-link" target="_blank">
                            <i class="fab fa-twitter"></i> Twitter
                        </a>
                        <span class="contact-divider">•</span>
                        <a href="https://www.linkedin.com/in/choudharyprateek/" class="contact-link" target="_blank">
                            <i class="fab fa-linkedin"></i> LinkedIn
                        </a>
                        <span class="contact-divider">•</span>
                        <a href="https://github.com/prateekkish" class="contact-link" target="_blank">
                            <i class="fab fa-github"></i> GitHub
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <hr class="footer-divider">
        <div class="row">
            <div class="col-md-6 col-sm-6 text-center text-lg-left">
                Copyright © 2025 Prateek Codes - Learn Building Scalable Backend Systems
            </div>
            <div class="col-md-6 col-sm-6 text-center text-lg-right">
                Built with Jekyll
            </div>
        </div>
    </div>
</footer>
<!-- End Footer
================================================== -->

</div> <!-- /.site-content -->

<!-- Scripts
================================================== -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<script src="/assets/js/mediumish.js"></script>



<script src="/assets/js/ie10-viewport-bug-workaround.js"></script>

</body>
</html>
